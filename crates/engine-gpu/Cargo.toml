[package]
name = "engine-gpu"
version.workspace = true
edition.workspace = true
publish = false
description = "GPU mining engine implementation for the Quantus External Miner"

# [lib]
# path = "src/main.rs"
# crate-type = ["rlib"]

[features]
# Default to the baseline/reference implementation; enable others as needed.
default = ["baseline"]

# Map engine features (pow-core dependency removed for now)
baseline = []
simd-poseidon2 = []

[dependencies]
primitive-types = { workspace = true }
log = { workspace = true }
thiserror = { workspace = true }
anyhow = { workspace = true }

wgpu = { version = "27.0.1" }  # GPU compute library
futures = "0.3"  # For async executor
bytemuck = "1.16"  # For buffer mapping

[dev-dependencies]
hex = { workspace = true }
criterion = "0.5"
rand = { workspace = true, features = ["std", "std_rng"] }

[[bench]]
name = "gpu_engine_bench"
harness = false
